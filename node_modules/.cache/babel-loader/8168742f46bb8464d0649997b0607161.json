{"ast":null,"code":"import _slicedToArray from\"/home/sander/Documents/Repositoray/Bedriftregister/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{CompanyMap}from'./googleMaps';import axios from'axios';import{useState,useEffect}from'react';import{Collapsible}from'./collapsible';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FetchData(){var _useState=useState([0]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setdata=_useState2[1];// Select the DOM-element, so that you can replace it with content\nvar PROJECT_ID='oans3nsr';var DATASET='production';var QUERY=encodeURIComponent('*[_type == \"bedrift\"]');// Compose the URL for your project's endpoint and add the query\nvar URL=\"https://\".concat(PROJECT_ID,\".api.sanity.io/v2021-10-21/data/query/\").concat(DATASET,\"?query=\").concat(QUERY);var getData=function getData(){axios.get(URL).then(function(res){setdata(res.data.result);});};useEffect(function(){getData();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"site-content\",children:data.map(function(companys){console.log(companys.Text);return/*#__PURE__*/_jsxs(Collapsible,{name:companys.name,children:[/*#__PURE__*/_jsx(\"div\",{className:\"company-text\",children:/*#__PURE__*/_jsx(\"p\",{children:companys.Text})}),/*#__PURE__*/_jsx(\"div\",{className:\"map\",children:/*#__PURE__*/_jsx(CompanyMap,{latitude:companys.latitude,longetude:companys.longetude})})]});})});}export default FetchData;","map":{"version":3,"names":["CompanyMap","axios","useState","useEffect","Collapsible","FetchData","data","setdata","PROJECT_ID","DATASET","QUERY","encodeURIComponent","URL","getData","get","then","res","result","map","companys","console","log","Text","name","latitude","longetude"],"sources":["/home/sander/Documents/Repositoray/Bedriftregister/src/components/fetchData.js"],"sourcesContent":["import { CompanyMap } from './googleMaps'\nimport axios from 'axios'\nimport { useState, useEffect } from 'react'\nimport { Collapsible } from './collapsible'\n\nfunction FetchData() {\n\tconst [data, setdata] = useState([0])\n\n\t// Select the DOM-element, so that you can replace it with content\n\tlet PROJECT_ID = 'oans3nsr'\n\tlet DATASET = 'production'\n\tlet QUERY = encodeURIComponent('*[_type == \"bedrift\"]')\n\n\t// Compose the URL for your project's endpoint and add the query\n\tlet URL = `https://${PROJECT_ID}.api.sanity.io/v2021-10-21/data/query/${DATASET}?query=${QUERY}`\n\n\n\tconst getData = () => {\n\t\taxios.get(URL).then((res) => {\n\t\t\tsetdata(res.data.result)\n\t\t})\n\t}\n\tuseEffect(() => {\n\t\tgetData()\n\t}, [])\n\n\treturn (\n\t\t<div className='site-content'>\n\t\t\t{data.map((companys) => {\n\t\t\t\tconsole.log(companys.Text)\n\t\t\t\treturn (\n\t\t\t\t\t<Collapsible name={companys.name}>\n\t\t\t\t\t\t<div className='company-text'>\n\t\t\t\t\t\t\t<p>{companys.Text}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className='map'>\n\t\t\t\t\t\t\t<CompanyMap\n\t\t\t\t\t\t\t\tlatitude={companys.latitude}\n\t\t\t\t\t\t\t\tlongetude={companys.longetude}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Collapsible>\n\t\t\t\t)\n\t\t\t})}\n\t\t</div>\n\t)\n}\n\nexport default FetchData\n"],"mappings":"wIAAA,OAASA,UAAT,KAA2B,cAA3B,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,KAA4B,eAA5B,C,wFAEA,QAASC,UAAT,EAAqB,CACpB,cAAwBH,QAAQ,CAAC,CAAC,CAAD,CAAD,CAAhC,wCAAOI,IAAP,eAAaC,OAAb,eAEA;AACA,GAAIC,WAAU,CAAG,UAAjB,CACA,GAAIC,QAAO,CAAG,YAAd,CACA,GAAIC,MAAK,CAAGC,kBAAkB,CAAC,uBAAD,CAA9B,CAEA;AACA,GAAIC,IAAG,mBAAcJ,UAAd,kDAAiEC,OAAjE,mBAAkFC,KAAlF,CAAP,CAGA,GAAMG,QAAO,CAAG,QAAVA,QAAU,EAAM,CACrBZ,KAAK,CAACa,GAAN,CAAUF,GAAV,EAAeG,IAAf,CAAoB,SAACC,GAAD,CAAS,CAC5BT,OAAO,CAACS,GAAG,CAACV,IAAJ,CAASW,MAAV,CAAP,CACA,CAFD,EAGA,CAJD,CAKAd,SAAS,CAAC,UAAM,CACfU,OAAO,GACP,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACC,YAAK,SAAS,CAAC,cAAf,UACEP,IAAI,CAACY,GAAL,CAAS,SAACC,QAAD,CAAc,CACvBC,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,EACA,mBACC,MAAC,WAAD,EAAa,IAAI,CAAEH,QAAQ,CAACI,IAA5B,wBACC,YAAK,SAAS,CAAC,cAAf,uBACC,mBAAIJ,QAAQ,CAACG,IAAb,EADD,EADD,cAIC,YAAK,SAAS,CAAC,KAAf,uBACC,KAAC,UAAD,EACC,QAAQ,CAAEH,QAAQ,CAACK,QADpB,CAEC,SAAS,CAAEL,QAAQ,CAACM,SAFrB,EADD,EAJD,GADD,CAaA,CAfA,CADF,EADD,CAoBA,CAED,cAAepB,UAAf"},"metadata":{},"sourceType":"module"}